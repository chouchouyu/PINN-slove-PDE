discounted_cashflow: [ 0.          0.          1.07494681 ...  0.          5.52269815
 25.50630571]
Regression object: True [   2    3    5 ... 2996 2998 2999]
exercise_index: [   5   10   17   18   23   26   27   30   31   43   51   53   54   55
   58   65   67   69   75   76   77   81   83   88   93   95   97   99
  100  103  104  105  108  113  117  118  120  122  123  124  126  128
  131  132  134  137  138  139  149  152  155  158  161  164  165  169
  173  174  180  181  187  190  191  196  198  199  202  203  205  211
  212  218  219  223  224  225  226  227  231  237  238  239  240  243
  244  247  254  256  257  265  268  270  271  273  278  279  283  284
  285  292  293  297  298  300  303  305  306  308  314  316  318  322
  323  324  326  327  330  341  342  344  348  349  350  357  363  366
  367  368  370  380  387  389  391  392  396  399  406  408  415  416
  425  426  427  428  429  438  439  440  442  444  448  463  464  465
  466  467  471  472  473  480  484  486  487  489  495  497  498  499
  500  503  504  506  507  511  516  518  519  527  528  530  531  533
  538  539  540  547  550  553  554  559  573  576  578  581  583  586
  591  599  602  604  610  613  615  622  623  626  632  636  637  644
  647  651  655  664  667  668  669  670  672  673  678  682  683  686
  692  696  697  700  702  705  707  709  710  714  717  718  727  733
  736  742  746  748  749  754  756  764  765  767  768  778  779  781
  782  785  786  790  793  795  801  804  814  819  823  827  829  832
  833  836  838  841  842  845  847  848  850  854  859  864  865  866
  879  883  886  889  890  891  893  894  895  898  903  904  907  910
  911  914  918  921  926  931  932  942  944  948  951  952  956  957
  960  964  965  967  968  971  972  975  979  980  991  992  993  994
  995  997  999 1004 1007 1008 1019 1030 1035 1037 1038 1040 1046 1049
 1050 1051 1056 1062 1063 1067 1068 1079 1085 1086 1087 1091 1092 1094
 1095 1096 1100 1103 1107 1108 1109 1110 1117 1118 1119 1122 1125 1126
 1127 1129 1136 1138 1142 1143 1144 1146 1152 1156 1159 1160 1163 1167
 1168 1169 1172 1176 1181 1183 1185 1186 1192 1193 1194 1195 1197 1198
 1199 1200 1201 1204 1209 1212 1221 1223 1224 1226 1231 1233 1239 1243
 1244 1246 1249 1252 1257 1258 1270 1271 1272 1274 1275 1276 1279 1282
 1283 1287 1289 1292 1301 1303 1312 1313 1314 1317 1325 1327 1328 1330
 1336 1337 1338 1339 1340 1341 1342 1343 1344 1353 1358 1359 1360 1361
 1362 1385 1389 1393 1395 1400 1402 1403 1405 1406 1407 1415 1420 1423
 1425 1426 1427 1429 1430 1431 1434 1435 1437 1438 1440 1444 1446 1448
 1450 1451 1452 1458 1467 1468 1469 1473 1474 1478 1482 1483 1484 1487
 1488 1492 1496 1497 1507 1509 1514 1515 1516 1524 1530 1532 1538 1539
 1548 1549 1551 1553 1554 1562 1570 1573 1575 1577 1580 1581 1585 1588
 1592 1593 1598 1603 1607 1608 1610 1612 1614 1615 1616 1618 1624 1626
 1628 1631 1633 1635 1637 1644 1652 1653 1655 1662 1665 1666 1670 1673
 1675 1683 1685 1686 1691 1695 1697 1700 1705 1709 1715 1716 1721 1722
 1727 1729 1735 1736 1742 1745 1750 1754 1755 1758 1760 1761 1771 1778
 1779 1782 1784 1787 1790 1796 1799 1805 1806 1809 1818 1820 1821 1825
 1828 1830 1835 1836 1839 1846 1847 1850 1851 1852 1853 1862 1863 1865
 1872 1873 1876 1877 1878 1883 1884 1888 1889 1894 1896 1904 1907 1908
 1910 1913 1918 1922 1929 1934 1939 1940 1942 1948 1951 1953 1956 1957
 1958 1960 1961 1963 1966 1969 1970 1972 1973 1974 1975 1976 1977 1978
 1981 1983 1986 1988 1990 1993 1997 2003 2005 2006 2007 2009 2010 2012
 2014 2016 2022 2023 2025 2032 2034 2038 2045 2047 2048 2051 2052 2055
 2061 2067 2069 2073 2074 2077 2084 2085 2088 2102 2105 2107 2110 2117
 2122 2123 2124 2125 2130 2133 2140 2143 2146 2148 2153 2155 2156 2164
 2165 2167 2168 2176 2177 2178 2179 2180 2183 2185 2186 2188 2191 2193
 2199 2202 2205 2206 2207 2209 2210 2215 2226 2231 2232 2234 2236 2237
 2240 2242 2243 2247 2249 2252 2259 2260 2278 2279 2281 2282 2285 2289
 2292 2293 2294 2296 2298 2305 2309 2310 2314 2316 2318 2319 2320 2322
 2331 2332 2340 2341 2344 2348 2354 2356 2358 2361 2366 2367 2370 2371
 2375 2376 2377 2378 2379 2380 2384 2387 2393 2394 2397 2399 2409 2412
 2414 2424 2425 2428 2429 2434 2435 2436 2443 2445 2453 2456 2458 2459
 2464 2470 2474 2475 2477 2480 2481 2482 2483 2484 2486 2493 2494 2496
 2501 2502 2507 2509 2510 2513 2517 2518 2519 2522 2523 2525 2527 2529
 2531 2532 2538 2543 2546 2548 2549 2551 2559 2564 2571 2573 2579 2581
 2584 2587 2588 2589 2591 2601 2604 2607 2608 2612 2613 2615 2616 2618
 2621 2624 2629 2635 2639 2644 2647 2650 2651 2654 2656 2662 2665 2670
 2672 2673 2675 2678 2680 2682 2684 2685 2688 2689 2697 2702 2703 2707
 2708 2714 2715 2718 2721 2726 2727 2729 2730 2734 2735 2739 2744 2746
 2747 2749 2752 2754 2755 2757 2770 2771 2772 2773 2777 2778 2783 2784
 2788 2791 2792 2795 2798 2801 2803 2804 2805 2809 2812 2814 2820 2822
 2823 2829 2835 2836 2839 2840 2841 2844 2848 2850 2851 2852 2855 2856
 2857 2861 2862 2866 2868 2869 2877 2880 2884 2885 2886 2890 2892 2894
 2900 2901 2910 2918 2919 2924 2925 2926 2931 2934 2938 2942 2951 2957
 2961 2963 2964 2965 2967 2971 2973 2978 2980 2982 2983 2988 2990 2995
 2996]
discounted_cashflow: [ 0.          0.          1.07476767 ...  0.          5.52177777
 25.50205502]
Regression object: True [   3    5   10 ... 2996 2998 2999]
exercise_index: [   5   10   17   18   23   26   27   30   31   33   43   51   53   54
   55   57   58   65   69   72   74   75   76   77   81   83   88   93
   95   97   99  100  103  104  105  108  113  117  118  120  122  123
  124  126  128  131  132  134  137  138  139  152  155  158  161  164
  165  169  173  174  180  181  187  190  191  196  198  199  203  205
  211  212  223  224  225  226  227  231  237  238  239  240  243  244
  247  254  256  257  265  268  271  273  278  279  283  284  292  297
  298  300  303  305  306  308  312  316  318  322  323  324  326  330
  335  341  342  344  347  348  349  350  357  363  366  367  368  370
  374  380  387  389  391  392  396  399  400  406  408  415  416  427
  428  429  439  440  442  443  444  463  464  465  466  467  471  472
  473  480  482  486  487  489  495  497  499  503  504  506  507  511
  516  518  519  527  528  530  531  533  538  539  540  547  550  553
  554  559  573  576  578  579  581  583  585  586  591  599  602  604
  610  613  615  622  623  626  632  636  637  644  647  651  655  664
  667  668  671  672  673  678  682  683  686  689  692  696  697  702
  705  707  709  710  711  714  717  718  724  727  733  736  742  746
  748  754  756  759  764  765  767  768  779  781  782  785  786  790
  793  795  801  804  813  814  819  826  827  829  832  833  836  838
  841  842  847  848  850  854  859  864  865  866  870  875  879  883
  886  889  890  891  893  894  895  896  897  898  903  904  907  910
  911  914  918  919  921  926  931  932  942  944  948  951  952  956
  957  960  964  965  967  968  971  972  975  979  980  988  991  992
  993  994  995  997  999 1004 1007 1008 1019 1030 1035 1037 1038 1040
 1046 1049 1051 1056 1062 1063 1067 1068 1079 1085 1086 1087 1091 1092
 1094 1095 1096 1100 1103 1107 1108 1109 1110 1117 1118 1119 1122 1125
 1126 1127 1136 1142 1143 1144 1152 1156 1159 1160 1163 1168 1169 1172
 1176 1181 1183 1185 1186 1192 1193 1194 1195 1197 1198 1199 1200 1201
 1204 1209 1212 1216 1221 1223 1226 1231 1233 1239 1243 1244 1246 1252
 1257 1258 1262 1270 1271 1272 1274 1275 1276 1279 1282 1283 1287 1289
 1292 1301 1303 1312 1313 1314 1317 1325 1327 1328 1330 1336 1337 1338
 1339 1340 1341 1342 1343 1344 1349 1353 1358 1359 1360 1361 1362 1385
 1389 1393 1395 1400 1402 1403 1405 1406 1407 1411 1415 1423 1425 1426
 1427 1429 1430 1431 1434 1435 1437 1438 1440 1444 1446 1448 1450 1451
 1452 1458 1467 1468 1469 1473 1474 1478 1482 1483 1484 1487 1488 1492
 1496 1497 1507 1509 1514 1515 1516 1524 1530 1532 1538 1539 1548 1549
 1551 1553 1554 1562 1570 1573 1575 1577 1580 1581 1585 1588 1591 1592
 1593 1594 1598 1603 1607 1608 1610 1612 1614 1615 1616 1618 1624 1626
 1628 1631 1633 1635 1637 1644 1646 1652 1654 1655 1662 1665 1670 1673
 1675 1683 1685 1686 1691 1695 1697 1700 1705 1707 1709 1715 1716 1721
 1727 1729 1735 1736 1742 1745 1750 1754 1755 1758 1760 1761 1771 1778
 1779 1782 1784 1787 1790 1796 1799 1802 1805 1806 1809 1821 1825 1828
 1830 1836 1839 1846 1847 1850 1851 1852 1853 1862 1863 1865 1872 1873
 1876 1877 1878 1883 1884 1888 1889 1894 1896 1904 1907 1908 1910 1913
 1918 1922 1929 1934 1939 1940 1942 1944 1948 1951 1953 1956 1957 1958
 1959 1960 1961 1963 1966 1969 1970 1972 1973 1974 1975 1977 1978 1981
 1983 1986 1988 1990 1993 1997 1998 2003 2005 2006 2007 2009 2010 2012
 2014 2016 2022 2023 2025 2034 2038 2045 2047 2048 2051 2052 2055 2061
 2067 2073 2077 2084 2085 2088 2102 2105 2107 2110 2117 2122 2123 2124
 2125 2130 2133 2140 2143 2146 2148 2150 2153 2155 2156 2164 2165 2167
 2168 2170 2177 2178 2179 2180 2183 2185 2186 2188 2191 2193 2199 2202
 2205 2206 2207 2209 2210 2213 2215 2226 2231 2232 2234 2236 2237 2240
 2242 2243 2247 2249 2252 2259 2260 2266 2268 2278 2282 2285 2289 2292
 2293 2294 2296 2298 2305 2309 2310 2314 2316 2319 2320 2322 2331 2332
 2340 2341 2344 2354 2356 2358 2361 2366 2367 2370 2371 2375 2376 2377
 2378 2379 2380 2384 2393 2394 2396 2397 2399 2409 2412 2414 2417 2424
 2425 2428 2429 2434 2435 2436 2443 2445 2453 2456 2458 2459 2464 2470
 2474 2475 2477 2480 2481 2482 2483 2484 2486 2493 2494 2496 2501 2502
 2507 2509 2510 2513 2517 2518 2519 2522 2523 2525 2527 2529 2531 2532
 2538 2543 2546 2549 2559 2564 2571 2573 2579 2581 2584 2587 2588 2589
 2591 2601 2604 2607 2608 2612 2613 2615 2616 2618 2621 2624 2629 2635
 2639 2644 2647 2650 2651 2654 2656 2662 2665 2670 2672 2673 2675 2678
 2680 2682 2684 2685 2688 2697 2702 2703 2707 2708 2714 2715 2718 2721
 2726 2727 2729 2730 2734 2735 2739 2744 2746 2747 2749 2752 2754 2755
 2757 2770 2771 2772 2773 2776 2777 2778 2783 2784 2788 2791 2792 2795
 2798 2801 2803 2804 2805 2806 2807 2809 2812 2814 2815 2820 2822 2823
 2829 2835 2836 2839 2840 2841 2844 2848 2850 2851 2852 2855 2856 2857
 2861 2862 2866 2868 2869 2877 2880 2884 2885 2886 2890 2892 2900 2901
 2910 2918 2919 2924 2925 2926 2931 2934 2935 2938 2942 2957 2961 2963
 2964 2965 2967 2971 2973 2978 2979 2980 2982 2983 2988 2990 2995 2996]
计算得到的美式期权价格: 14.33637984169992
实际美式期权价格: 9.6333
Traceback (most recent call last):
  File "/Users/susan/Downloads/hdp-master/tests/MCAmericanTest.py", line 89, in <module>
    test.test_price2d()  
  File "/Users/susan/Downloads/hdp-master/tests/MCAmericanTest.py", line 53, in test_price2d
    assert abs(put - 9.557936820537265) < 0.00000000000001
AssertionError
